schema: '2.0'
stages:
  prepare:
    cmd: python ./phishing-detection/phishing_detection/get_data.py data
    deps:
    - path: data/test.txt
      hash: md5
      md5: a1cab28ad8554fd9269d31e5708469d0
      size: 32724891
    - path: data/train.txt
      hash: md5
      md5: 13fd241a41370119612d5b00b0433009
      size: 93921671
    - path: data/val.txt
      hash: md5
      md5: 7b1e28b1e91582c6f36e85517c3cc6ee
      size: 46258330
    - path: phishing-detection/phishing_detection/get_data.py
      hash: md5
      md5: bdf8f521e5c27faa0d177946a2ceac54
      size: 1848
    outs:
    - path: data/raw/X_test.txt
      hash: md5
      md5: 1563282b483d43739f43f425200044c5
      size: 29407738
    - path: data/raw/X_train.txt
      hash: md5
      md5: e30e89161e21482d56537c6d0889db94
      size: 84396770
    - path: data/raw/X_val.txt
      hash: md5
      md5: 7d004257a712e5265a5bd985aee42979
      size: 41567033
    - path: data/raw/y_test.txt
      hash: md5
      md5: 2e3c9d7f5cfbbbaa9ab11e95747c6b88
      size: 4045450
    - path: data/raw/y_train.txt
      hash: md5
      md5: a2628fb8ca50c89fe1250772b8a50206
      size: 11616282
    - path: data/raw/y_val.txt
      hash: md5
      md5: 3c330979d7cb08758fcd9d6feaf6aa04
      size: 5721418
  preprocess:
    cmd: python ./src/preprocess.py data
    deps:
    - path: data/raw/test.txt
      hash: md5
      md5: a1cab28ad8554fd9269d31e5708469d0
      size: 32724891
    - path: data/raw/train.txt
      hash: md5
      md5: 13fd241a41370119612d5b00b0433009
      size: 93921671
    - path: data/raw/val.txt
      hash: md5
      md5: 7b1e28b1e91582c6f36e85517c3cc6ee
      size: 46258330
    - path: src/preprocess.py
      hash: md5
      md5: f697d70cc66a93ddbfa912c70694181c
      size: 2032
    outs:
    - path: data/preprocess/X_test.npy
      hash: md5
      md5: 93675aba9e6e2c9b80277481652f0f7d
      size: 291359328
    - path: data/preprocess/X_train.npy
      hash: md5
      md5: 5058e2a7bb81b20eb684304f5c4d149a
      size: 836620128
    - path: data/preprocess/X_val.npy
      hash: md5
      md5: 6cf90ab489d52d04b2b739d1648378c9
      size: 412064128
    - path: data/preprocess/char_index.json
      hash: md5
      md5: fe87b0a484b3b60b50fd58cd538aaaae
      size: 639
      cloud:
        aws:
          etag: fe87b0a484b3b60b50fd58cd538aaaae
          version_id: 'null'
    - path: data/preprocess/y_test.npy
      hash: md5
      md5: f75fc025e787c7c33a7a8c50d3b901d0
      size: 1456924
    - path: data/preprocess/y_train.npy
      hash: md5
      md5: 15977b4322996ff6d06b177debad2ebc
      size: 8366328
    - path: data/preprocess/y_val.npy
      hash: md5
      md5: b2b6fd1c6458b139988973e159e5fff1
      size: 2060448
  train:
    cmd:
    - python ./src/train.py ./data ./src/params.yaml
    deps:
    - path: data/preprocess/X_train.npy
      hash: md5
      md5: 5058e2a7bb81b20eb684304f5c4d149a
      size: 836620128
    - path: data/preprocess/X_val.npy
      hash: md5
      md5: 6cf90ab489d52d04b2b739d1648378c9
      size: 412064128
    - path: data/preprocess/char_index.json
      hash: md5
      md5: fe87b0a484b3b60b50fd58cd538aaaae
      size: 639
    - path: data/preprocess/y_train.npy
      hash: md5
      md5: 15977b4322996ff6d06b177debad2ebc
      size: 8366328
    - path: data/preprocess/y_val.npy
      hash: md5
      md5: b2b6fd1c6458b139988973e159e5fff1
      size: 2060448
    - path: src/model_definition.py
      hash: md5
      md5: afc9df321c42ebf803632885c8d327b3
      size: 1819
    - path: src/train.py
      hash: md5
      md5: 9f80f24e00f6d6f241f5d7ddfac74587
      size: 2061
    outs:
    - path: models/trained_model.keras
      hash: md5
      md5: edf465babcc12203294592bf99cbc8f6
      size: 5472435
  test:
    cmd: python ./src/predict.py data
    deps:
    - path: data/preprocess/X_test.npy
      hash: md5
      md5: 93675aba9e6e2c9b80277481652f0f7d
      size: 291359328
    - path: data/preprocess/y_test.npy
      hash: md5
      md5: f75fc025e787c7c33a7a8c50d3b901d0
      size: 1456924
    - path: models/trained_model.keras
      hash: md5
      md5: edf465babcc12203294592bf99cbc8f6
      size: 5472435
    - path: src/predict.py
      hash: md5
      md5: 6e0cfc09e7bae7a4be93b82cf3121897
      size: 3324
    outs:
    - path: reports/results/confusion_matrix.pdf
      hash: md5
      md5: 6816e13f262ca23fd42135595829eec6
      size: 14172
    - path: reports/results/results.txt
      hash: md5
      md5: 4c24ed3cfccea4b4e08cc753e8a82f51
      size: 51
